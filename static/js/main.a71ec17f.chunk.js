(this["webpackJsonpsing-along"]=this["webpackJsonpsing-along"]||[]).push([[0],{59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n(0),r=n(19),a=n.n(r),s=(n(59),n(60),n(37)),o=n(48),l=n(119),u=(n(61),n(45)),d=n.n(u),j=n(114),b=n(15),h=n(120),f=n(115),O=n(117),v=n(116),x=n(118),g=n(112),m=function(){return Object(c.jsx)(b.b,{to:"/shuffle/0",children:Object(c.jsx)(g.a,{size:"large",variant:"outlined",style:{margin:"0.5rem"},endIcon:Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(c.jsx)("path",{fill:"currentColor",d:"M17 17h-1.559l-9.7-10.673A1 1 0 0 0 5.001 6H2v2h2.559l4.09 4.5-4.09 4.501H2v2h3.001a1 1 0 0 0 .74-.327L10 13.987l4.259 4.686a1 1 0 0 0 .74.327H17v3l5-4-5-4v3z"}),Object(c.jsx)("path",{fill:"currentColor",d:"M15.441 8H17v3l5-3.938L17 3v3h-2.001a1 1 0 0 0-.74.327l-3.368 3.707 1.48 1.346L15.441 8z"})]}),children:"Shuffle Play"})})},p=Object(j.a)({label:{flexDirection:"column",minWidth:"420px"},card:{margin:8,maxWidth:320},cardMedia:{height:180},cardTitle:{fontSize:"1rem",fontWeight:500}}),y=function(e){var t=e.songList,n=p();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"\ud83c\udf84\ud83c\udf85\ud83e\udd36\ud83c\udfb5 Christmas Sing Along \ud83c\udfb6\u2603\ufe0f\ud83c\udf81\ud83c\udf84"}),Object(c.jsx)("nav",{children:Object(c.jsx)(m,{})}),Object(c.jsx)("section",{className:"directory",children:t.sort((function(e,t){return e.songTitle.localeCompare(t.songTitle)})).map((function(e){var t=e.videoId,i=e.songTitle,r=e.songArtist,a=e.cc,s="https://img.youtube.com/vi/".concat(t,"/mqdefault.jpg"),o="Youtube Thumbnail of ".concat(i),l=i&&r?"":"/edit";return Object(c.jsx)(h.a,{className:n.card,children:Object(c.jsx)(b.b,{to:"/".concat(t).concat(l),children:Object(c.jsxs)(f.a,{children:[Object(c.jsx)(v.a,{className:n.cardMedia,component:"img",alt:o,title:o,image:s}),Object(c.jsxs)(O.a,{children:[Object(c.jsx)(x.a,{gutterBottom:!0,variant:"h5",component:"h2",className:n.cardTitle,children:i}),Object(c.jsxs)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:[r,a&&Object(c.jsx)(d.a,{className:"cc-icon"})]})]})]})})},t)}))})]})},I=n(28),S=n(22),w=n.n(S),T=n(36),C=n(18),N=n(46),E=n.n(N),L=function(e){return e?0:["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document?1:0},k=function(e){var t=e.videoId,n=e.cc,c=void 0!==n&&n,r=e.onVideoEnd,a=Object(i.useState)(0),s=Object(C.a)(a,2),o=s[0],l=s[1];return Object(i.useEffect)((function(){var e,n=function(e){return{height:"100%",width:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,playsinline:L(e),modestbranding:1}}}(c),i=E()(t,n);i.loadVideoById(t);var a=function(){var t=Object(T.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getCurrentTime();case 2:n=t.sent,l(1e3*n),100,e=setInterval((function(){l((function(e){return e+100}))}),100);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){return clearInterval(e)},o=i.on("stateChange",(function(e){var t=window.YT.PlayerState,n=t.PLAYING,c=t.PAUSED,i=t.ENDED;switch(e.data){case n:a();break;case c:s();break;case i:s(),r&&r()}}));return function(){s(),i.off(o),i.destroy()}}),[t,c,r]),{milliseconds:o}},P=(n(87),n(47)),A=(n(88),function(e){var t=e.milliseconds,n=e.songTitle,r=e.songArtist,a=e.cc,s=Object(i.useState)(""),o=Object(C.a)(s,2),l=o[0],u=o[1];Object(i.useEffect)((function(){var e=a?"":"/sing-along/lyrics/".concat(n," - ").concat(r,".lrc");fetch(e).then((function(e){return e.text()})).then(u)}),[n,r,a]);var d=Object(i.useCallback)((function(e){var t=e.lrcLine,n=e.active;return Object(c.jsx)("div",{className:n?"active-line":"inactive-line",children:t.content})}),[]);return Object(c.jsx)(P.a,{className:"lrc",lrc:a?"[00:00.0] [CC Available]":l,currentTime:t,lineRenderer:d,spaceTop:0})}),M=function(e){var t=e.videoId,n=e.songTitle,i=e.songArtist,r=e.cc,a=e.onVideoEnd,s=k({videoId:t,cc:r,onVideoEnd:a}).milliseconds;return Object(c.jsxs)("section",{className:"karaoke",children:[Object(c.jsx)("div",{className:"videoContainer",children:Object(c.jsx)("div",{id:t})}),!r&&Object(c.jsx)(A,{milliseconds:s,songTitle:n,songArtist:i,cc:r})]})},D=n(6),V=function(e){var t=e.songList,n=Object(D.g)().shuffleIndex,c=parseInt(n,10)%t.length,r=t[c],a=Object(D.f)();return Object(i.createElement)(M,Object(I.a)(Object(I.a)({},r),{},{onVideoEnd:function(){a.replace("/shuffle/".concat(c+1))},key:n}))},B=function(e){var t=e.songList,n=Object(D.g)().videoId,i=t.filter((function(e){return e.videoId===n}))[0]||{};return Object(c.jsx)(M,Object(I.a)({},i))},F=function(){var e=Object(i.useState)([]),t=Object(C.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)([]),o=Object(C.a)(a,2),l=o[0],u=o[1],d=Object(D.g)().videoId,j=k({videoId:d}).milliseconds;return Object(c.jsxs)("section",{className:"sync-lyrics",style:{display:"flex"},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:d}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{style:{border:"solid 1px gray",height:"35%",width:"100%"},onChange:function(e){return r(e.target.value.split("\n"))}}),Object(c.jsx)("br",{}),Object(c.jsx)(g.a,{variant:"outlined",onClick:function(){return u((function(e){return[].concat(Object(s.a)(e),[j])}))},children:"SET TIME"}),Object(c.jsx)("br",{}),Object(c.jsx)(g.a,{variant:"outlined",onClick:function(){return u((function(e){return e.filter((function(e,t){return t!==l.length-1}))}))},children:"UNDO"})]}),Object(c.jsx)("div",{style:{paddingLeft:"1em",maxHeight:"100vh",overflow:"auto"},children:n.map((function(e,t){var n=l[t]?"[".concat(new Date(0,0,0,0,0,0,l[t]).toISOString().substring(14,21),"] "):"";return Object(c.jsxs)("div",{children:[n,e]},t)}))})]})},H=Object(o.a)({palette:{type:"dark"}}),z=function(){var e=function(e){var t=Object(i.useState)(""),n=Object(C.a)(t,2),c=n[0],r=n[1];return Object(i.useEffect)((function(){e&&function(){var t=Object(T.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(e).then((function(e){return e.text()})).then((function(e){return r(e)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e]),{data:c}}("/sing-along/lyrics/index.json").data,t=e?JSON.parse(e):[],n=Object(s.a)(t).sort((function(){return.5-Math.random()}));return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(l.a,{theme:H,children:Object(c.jsxs)(D.c,{children:[Object(c.jsx)(D.a,{path:"/shuffle/:shuffleIndex",children:Object(c.jsx)(V,{songList:n})}),Object(c.jsx)(D.a,{path:"/:videoId/edit",children:Object(c.jsx)(F,{})}),Object(c.jsx)(D.a,{path:"/:videoId",children:Object(c.jsx)(B,{songList:t})}),Object(c.jsx)(D.a,{path:"/",children:Object(c.jsx)(y,{songList:t})})]})})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(c.jsx)(i.StrictMode,{children:Object(c.jsx)(b.a,{children:Object(c.jsx)(z,{})})}),document.getElementById("root")),_()}},[[89,1,2]]]);
//# sourceMappingURL=main.a71ec17f.chunk.js.map