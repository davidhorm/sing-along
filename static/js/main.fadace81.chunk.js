(this["webpackJsonpsing-along"]=this["webpackJsonpsing-along"]||[]).push([[0],{47:function(t,e,n){},48:function(t,e,n){},74:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var c=n(2),i=n(0),r=n(18),a=n.n(r),o=(n(47),n(48),n(36)),s=n.n(o),u=n(98),d=n(17),l=n(104),j=n(103),h=n(101),b=n(100),f=n(102),v=Object(u.a)({label:{flexDirection:"column",minWidth:"420px"},card:{margin:8,maxWidth:320},cardMedia:{height:180},cardTitle:{fontSize:"1rem",fontWeight:500}}),O=function(t){var e=t.songList,n=v();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"\ud83c\udf84\ud83c\udf85\ud83e\udd36\ud83c\udfb5 Christmas Sing Along \ud83c\udfb6\u2603\ufe0f\ud83c\udf81\ud83c\udf84"}),Object(c.jsx)("section",{className:"directory",children:e.sort((function(t,e){return t.songTitle.localeCompare(e.songTitle)})).map((function(t){var e=t.videoId,i=t.songTitle,r=t.songArtist,a=t.cc,o="https://img.youtube.com/vi/".concat(e,"/mqdefault.jpg"),u="Youtube Thumbnail of ".concat(i),v=i&&r?"":"/edit";return Object(c.jsx)(l.a,{className:n.card,children:Object(c.jsxs)(d.b,{to:"/".concat(e).concat(v),component:j.a,children:[Object(c.jsx)(b.a,{className:n.cardMedia,component:"img",alt:u,title:u,image:o}),Object(c.jsxs)(h.a,{children:[Object(c.jsx)(f.a,{gutterBottom:!0,variant:"h5",component:"h2",className:n.cardTitle,children:i}),Object(c.jsxs)(f.a,{variant:"body2",color:"textSecondary",component:"p",children:[r,a&&Object(c.jsx)(s.a,{className:"cc-icon"})]})]})]})},e)}))})]})},g=n(13),m=n(37),x=n(21),p=n.n(x),y=n(31),S=n(38),I=n.n(S),T=function(t){return t?0:["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document?1:0},N=function(t){var e=t.divId,n=t.videoId,c=t.videoWidth,r=t.videoHeight,a=t.cc,o=void 0!==a&&a,s=Object(i.useState)(0),u=Object(g.a)(s,2),d=u[0],l=u[1],j=Object(i.useState)(),h=Object(g.a)(j,2),b=h[0],f=h[1];return Object(i.useEffect)((function(){var t,c=function(t){return{playerVars:{cc_load_policy:1,iv_load_policy:3,playsinline:T(t),modestbranding:1}}}(o),i=I()(e||n,c);i.loadVideoById(n),f(i);var r=function(){var e=Object(y.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getCurrentTime();case 2:n=e.sent,l(1e3*n),100,t=setInterval((function(){l((function(t){return t+100}))}),100);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){return clearInterval(t)},s=i.on("stateChange",(function(t){var e=window.YT.PlayerState,n=e.PLAYING,c=e.PAUSED,i=e.ENDED;switch(t.data){case n:r();break;case c:case i:a()}}));return function(){a(),i.off(s),i.destroy()}}),[e,n,o]),Object(i.useEffect)((function(){b&&c&&r&&b.setSize(c,r)}),[b,c,r]),{milliseconds:d}},w=(n(74),n(5)),C=function(t){var e=t.songList,n=Object(w.f)().videoId,r=e.filter((function(t){return t.videoId===n}))[0]||{},a=r.songTitle,o=r.songArtist,s=r.cc,u=Object(i.useState)(""),d=Object(g.a)(u,2),l=d[0],j=d[1];Object(i.useEffect)((function(){var t=s?"":"/sing-along/lyrics/".concat(a," - ").concat(o,".lrc");fetch(t).then((function(t){return t.text()})).then(j)}),[a,o,s]);var h=function(){var t=document.getElementsByTagName("html")[0],e=t.clientHeight,n=t.clientWidth,c=.8*e,i=c<n,r={height:i?c:9*n/16,width:i?16*c/9:n};return{dimensions:{video:r,caption:{height:e-r.height}}}}().dimensions,b=h.video,f=h.caption,v=N({videoId:n,videoWidth:b.width,videoHeight:b.height,cc:s}).milliseconds,O=Object(i.useCallback)((function(t){var e=t.lrcLine,n=t.active;return Object(c.jsx)("div",{className:n?"active-line":"inactive-line",children:e.content})}),[]);return Object(c.jsxs)("section",{className:"karaoke",children:[Object(c.jsx)("div",{id:n}),Object(c.jsx)(m.a,{className:"lrc",lrc:s?"[00:00.0] [CC Available]":l,currentTime:v,lineRenderer:O,style:{height:"calc(".concat(f.height,"px - 4em)"),overflow:"hidden"},spaceTop:0})]})},E=n(39),P=function(){var t=Object(i.useState)([]),e=Object(g.a)(t,2),n=e[0],r=e[1],a=Object(i.useState)([]),o=Object(g.a)(a,2),s=o[0],u=o[1],d=Object(w.f)().videoId,l=N({videoId:d}).milliseconds;return Object(c.jsxs)("section",{className:"sync-lyrics",style:{display:"flex"},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:d}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{onChange:function(t){return r(t.target.value.split("\n"))}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){return u((function(t){return[].concat(Object(E.a)(t),[l])}))},children:"SET TIME"}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){return u((function(t){return t.filter((function(t,e){return e!==s.length-1}))}))},children:"UNDO"})]}),Object(c.jsx)("div",{style:{paddingLeft:"1em",maxHeight:"100vh",overflow:"auto"},children:n.map((function(t,e){var n=s[e]?"[".concat(new Date(0,0,0,0,0,0,s[e]).toISOString().substring(14,21),"] "):"";return Object(c.jsxs)("div",{children:[n,t]},e)}))})]})},k=function(){var t=function(t){var e=Object(i.useState)(""),n=Object(g.a)(e,2),c=n[0],r=n[1];return Object(i.useEffect)((function(){t&&function(){var e=Object(y.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(t){return t.text()})).then((function(t){return r(t)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),{data:c}}("/sing-along/lyrics/index.json").data,e=t?JSON.parse(t):[];return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(w.c,{children:[Object(c.jsx)(w.a,{path:"/:videoId/edit",children:Object(c.jsx)(P,{})}),Object(c.jsx)(w.a,{path:"/:videoId",children:Object(c.jsx)(C,{songList:e})}),Object(c.jsx)(w.a,{path:"/",children:Object(c.jsx)(O,{songList:e})})]})})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),r(t),a(t)}))};a.a.render(Object(c.jsx)(i.StrictMode,{children:Object(c.jsx)(d.a,{children:Object(c.jsx)(k,{})})}),document.getElementById("root")),L()}},[[76,1,2]]]);
//# sourceMappingURL=main.fadace81.chunk.js.map