(this["webpackJsonpsing-along"]=this["webpackJsonpsing-along"]||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n(0),r=n(19),a=n.n(r),o=(n(49),n(10)),s=(n(50),n(37)),u=n.n(s),l=n(94),d=n(96),j=n(18),b=Object(l.a)({label:{flexDirection:"column",minWidth:"420px"}}),h=function(e){var t=e.songList,n=b();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"\ud83c\udf84\ud83c\udf85\ud83e\udd36\ud83c\udfb5 Christmas Sing Along \ud83c\udfb6\u2603\ufe0f\ud83c\udf81\ud83c\udf84"}),Object(c.jsx)("section",{className:"directory",children:t.sort((function(e,t){return e.lyricsFileName.localeCompare(t.lyricsFileName)})).map((function(e){var t=e.videoId,i=e.lyricsFileName,r=e.cc,a=i.replace(".lrc","").split(" - "),s=Object(o.a)(a,2),l=s[0],b=s[1],h="https://img.youtube.com/vi/".concat(t,"/mqdefault.jpg"),f=i?"":"/edit";return Object(c.jsxs)(d.a,{variant:"outlined",classes:{label:n.label},component:j.b,to:"/".concat(t).concat(f),children:[Object(c.jsx)("img",{src:h,alt:"Youtube Thumbnail of ".concat(l)}),Object(c.jsxs)("div",{children:[l," ",Object(c.jsx)("br",{})," ",b,r&&Object(c.jsx)(u.a,{className:"cc-icon"})]})]},t)}))})]})},f=n(38),v=n(22),O=n.n(v),g=n(32),m=n(39),x=n.n(m),p=function(e){return e?0:["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document?1:0},y=function(e){var t=e.divId,n=e.videoId,c=e.videoWidth,r=e.videoHeight,a=e.cc,s=void 0!==a&&a,u=Object(i.useState)(0),l=Object(o.a)(u,2),d=l[0],j=l[1],b=Object(i.useState)(),h=Object(o.a)(b,2),f=h[0],v=h[1];return Object(i.useEffect)((function(){var e,c=function(e){return{playerVars:{cc_load_policy:1,iv_load_policy:3,playsinline:p(e),modestbranding:1}}}(s),i=x()(t||n,c);i.loadVideoById(n),v(i);var r=function(){var t=Object(g.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getCurrentTime();case 2:n=t.sent,j(1e3*n),100,e=setInterval((function(){j((function(e){return e+100}))}),100);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){return clearInterval(e)},o=i.on("stateChange",(function(e){var t=window.YT.PlayerState,n=t.PLAYING,c=t.PAUSED,i=t.ENDED;switch(e.data){case n:r();break;case c:case i:a()}}));return function(){a(),i.off(o),i.destroy()}}),[t,n,s]),Object(i.useEffect)((function(){f&&c&&r&&f.setSize(c,r)}),[f,c,r]),{milliseconds:d}},S=(n(76),n(4)),I=function(e){var t=e.songList,n=Object(S.f)().videoId,r=t.filter((function(e){return e.videoId===n}))[0]||{},a=r.lyricsFileName,s=r.cc,u=Object(i.useState)(""),l=Object(o.a)(u,2),d=l[0],j=l[1];Object(i.useEffect)((function(){var e=s?"":"/sing-along/lyrics/".concat(a);fetch(e).then((function(e){return e.text()})).then(j)}),[a,s]);var b=function(){var e=document.getElementsByTagName("html")[0],t=e.clientHeight,n=e.clientWidth,c=.8*t,i=c<n,r={height:i?c:9*n/16,width:i?16*c/9:n};return{dimensions:{video:r,caption:{height:t-r.height}}}}().dimensions,h=b.video,v=b.caption,O=y({videoId:n,videoWidth:h.width,videoHeight:h.height,cc:s}).milliseconds,g=Object(i.useCallback)((function(e){var t=e.lrcLine,n=e.active;return Object(c.jsx)("div",{className:n?"active-line":"inactive-line",children:t.content})}),[]);return Object(c.jsxs)("section",{className:"karaoke",children:[Object(c.jsx)("div",{id:n}),Object(c.jsx)(f.a,{className:"lrc",lrc:s?"[00:00.0] [CC Available]":d,currentTime:O,lineRenderer:g,style:{height:"calc(".concat(v.height,"px - 4em)"),overflow:"hidden"},spaceTop:0})]})},N=n(40),w=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)([]),s=Object(o.a)(a,2),u=s[0],l=s[1],d=Object(S.f)().videoId,j=y({videoId:d}).milliseconds;return Object(c.jsxs)("section",{className:"sync-lyrics",style:{display:"flex"},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:d}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{onChange:function(e){return r(e.target.value.split("\n"))}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){return l((function(e){return[].concat(Object(N.a)(e),[j])}))},children:"SET TIME"}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){return l((function(e){return e.filter((function(e,t){return t!==u.length-1}))}))},children:"UNDO"})]}),Object(c.jsx)("div",{style:{paddingLeft:"1em",maxHeight:"100vh",overflow:"auto"},children:n.map((function(e,t){var n=u[t]?"[".concat(new Date(0,0,0,0,0,0,u[t]).toISOString().substring(14,21),"] "):"";return Object(c.jsxs)("div",{children:[n,e]},t)}))})]})},C=function(){var e=function(e){var t=Object(i.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(i.useEffect)((function(){e&&function(){var t=Object(g.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(e).then((function(e){return e.text()})).then((function(e){return r(e)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e]),{data:c}}("/sing-along/lyrics/index.json").data,t=e?JSON.parse(e):[];return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(S.c,{children:[Object(c.jsx)(S.a,{path:"/:videoId/edit",children:Object(c.jsx)(w,{})}),Object(c.jsx)(S.a,{path:"/:videoId",children:Object(c.jsx)(I,{songList:t})}),Object(c.jsx)(S.a,{path:"/",children:Object(c.jsx)(h,{songList:t})})]})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(c.jsx)(i.StrictMode,{children:Object(c.jsx)(j.a,{children:Object(c.jsx)(C,{})})}),document.getElementById("root")),E()}},[[78,1,2]]]);
//# sourceMappingURL=main.3f8d3bca.chunk.js.map