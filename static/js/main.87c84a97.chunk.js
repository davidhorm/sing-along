(this["webpackJsonpsing-along"]=this["webpackJsonpsing-along"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n(0),r=n.n(i),a=n(12),s=n.n(a),o=(n(42),n(7)),l=(n(43),n(30)),u=n.n(l),d=n(83),j=n(85),b=Object(d.a)({label:{flexDirection:"column",minWidth:"420px"}}),f=function(e){var t=e.songList,n=e.setSelectedSong,i=b();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"\ud83c\udf84\ud83c\udf85\ud83e\udd36\ud83c\udfb5 Christmas Sing Along \ud83c\udfb6\u2603\ufe0f\ud83c\udf81\ud83c\udf84"}),Object(c.jsx)("section",{className:"directory",children:t.sort((function(e,t){return e.lyricsFileName.localeCompare(t.lyricsFileName)})).map((function(e){var t=e.lyricsFileName.replace(".lrc","").split(" - "),r=Object(o.a)(t,2),a=r[0],s=r[1],l="https://img.youtube.com/vi/".concat(e.videoId,"/mqdefault.jpg");return Object(c.jsxs)(j.a,{variant:"outlined",classes:{label:i.label},onClick:function(){return n(e)},children:[Object(c.jsx)("img",{src:l,alt:"Youtube Thumbnail of ".concat(a)}),Object(c.jsxs)("div",{children:[a," ",Object(c.jsx)("br",{})," ",s,e.cc&&Object(c.jsx)(u.a,{className:"cc-icon"})]})]},e.videoId)}))})]})},h=n(31),v=n(16),g=n.n(v),O=n(26),m=function(e){var t=r.a.useState(""),n=Object(o.a)(t,2),c=n[0],i=n[1];return r.a.useEffect((function(){(function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(e).then((function(e){return e.text()})).then((function(e){return i(e)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),{data:c}},x=n(32),p=n.n(x),S=function(e){var t=e.divId,n=e.videoId,c=e.videoWidth,i=e.videoHeight,a=r.a.useState(0),s=Object(o.a)(a,2),l=s[0],u=s[1];return r.a.useEffect((function(){var e,r=p()(t||n,{playerVars:{cc_load_policy:1}});c&&i&&r.setSize(c,i),r.loadVideoById(n);var a=function(){var t=Object(O.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getCurrentTime();case 2:n=t.sent,u(1e3*n),100,e=setInterval((function(){u((function(e){return e+100}))}),100);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){return clearInterval(e)},o=r.on("stateChange",(function(e){var t=window.YT.PlayerState,n=t.PLAYING,c=t.PAUSED,i=t.ENDED;switch(e.data){case n:a();break;case c:case i:s()}}));return function(){s(),r.off(o),r.destroy()}}),[t,n,c,i]),{milliseconds:l}},y=(n(65),function(e){var t=e.selectedSong,n=e.setSelectedSong,i=function(){var e=document.getElementsByTagName("html")[0].clientHeight,t=.8*e;return{dimensions:{video:{height:t,width:t/9*16},caption:{height:e*(1-.8)}}}}().dimensions,a=i.video,s=i.caption,o=m("/sing-along/lyrics/".concat(t.lyricsFileName)).data,l=S({videoId:t.videoId,videoWidth:a.width,videoHeight:a.height}).milliseconds,u=r.a.useCallback((function(e){var t=e.lrcLine,n=e.active;return Object(c.jsx)("div",{className:n?"active-line":"inactive-line",children:t.content})}),[]);return Object(c.jsxs)("section",{className:"karaoke",children:[Object(c.jsx)("button",{onClick:function(){return n(null)},children:"Back"}),Object(c.jsx)("div",{id:t.videoId}),Object(c.jsx)(h.a,{className:"lrc",lrc:o||"",currentTime:l,lineRenderer:u,style:{height:s.height},spaceTop:0})]})}),I=n(33),N=function(e){var t=e.videoId,n=r.a.useState([]),i=Object(o.a)(n,2),a=i[0],s=i[1],l=r.a.useState([]),u=Object(o.a)(l,2),d=u[0],j=u[1],b=S({videoId:t}).milliseconds;return Object(c.jsxs)("section",{className:"sync-lyrics",style:{display:"flex"},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:t}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{onChange:function(e){return s(e.target.value.split("\n"))}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){return j((function(e){return[].concat(Object(I.a)(e),[b])}))},children:"SET TIME"}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){return j((function(e){return e.filter((function(e,t){return t!==d.length-1}))}))},children:"UNDO"})]}),Object(c.jsx)("div",{style:{paddingLeft:"1em",maxHeight:"100vh",overflow:"auto"},children:a.map((function(e,t){var n=d[t]?"[".concat(new Date(0,0,0,0,0,0,d[t]).toISOString().substring(14,21),"] "):"";return Object(c.jsxs)("div",{children:[n,e]},t)}))})]})},k=function(){var e=r.a.useState(),t=Object(o.a)(e,2),n=t[0],i=t[1],a=m("/sing-along/lyrics/index.json").data,s=a?JSON.parse(a):[];return Object(c.jsx)("div",{className:"App",children:n&&n.lyricsFileName?Object(c.jsx)(y,{selectedSong:n,setSelectedSong:i}):n&&n.videoId?Object(c.jsx)(N,{videoId:n.videoId}):Object(c.jsx)(f,{songList:s,setSelectedSong:i})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(k,{})}),document.getElementById("root")),w()}},[[67,1,2]]]);
//# sourceMappingURL=main.87c84a97.chunk.js.map